library(data.table)
hdro_indicators_irl <- fread('hdro_indicators_irl.csv')
hdro_indicators_irl <- hdro_indicators_irl[-1]
hdro_indicators_irl[, year := as.integer(year)]
hdro_indicators_irl[, value := as.numeric(value)]
hdro_indicators_irl[, country_code := as.factor(country_code)]
hdro_indicators_irl[, country_name := as.factor(country_name)]
hdro_indicators_irl[, indicator_id := as.factor(indicator_id)]
hdro_indicators_irl[, indicator_name := as.factor(indicator_name)]
hdro_indicators_irl[, index_id := as.factor(index_id)]
hdro_indicators_irl[, index_name := as.factor(index_name)]
hdro_indicators_jpn <- fread('hdro_indicators_jpn.csv')
hdro_indicators_jpn <- hdro_indicators_jpn[-1]
hdro_indicators_jpn[, year := as.integer(year)]
hdro_indicators_jpn[, value := as.numeric(value)]
hdro_indicators_jpn[, country_code := as.factor(country_code)]
hdro_indicators_jpn[, country_name := as.factor(country_name)]
hdro_indicators_jpn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_jpn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_jpn[, index_id := as.factor(index_id)]
hdro_indicators_jpn[, index_name := as.factor(index_name)]
hdro_indicators_chn <- fread('hdro_indicators_chn.csv')
hdro_indicators_chn <- hdro_indicators_chn[-1]
hdro_indicators_chn[, year := as.integer(year)]
hdro_indicators_chn[, value := as.numeric(value)]
hdro_indicators_chn[, country_code := as.factor(country_code)]
hdro_indicators_chn[, country_name := as.factor(country_name)]
hdro_indicators_chn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_chn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_chn[, index_id := as.factor(index_id)]
hdro_indicators_chn[, index_name := as.factor(index_name)]
data <- list(hdro_indicators_irl, hdro_indicators_jpn, hdro_indicators_chn)
hdro_data <- rbindlist(list_of_tables)
knitr::opts_chunk$set(
echo = TRUE,           # Show code by default
message = FALSE,       # Suppress messages
warning = FALSE,       # Suppress warnings
fig.width = 4,         # Default figure width
fig.height = 3,        # Default figure height
fig.align = 'center',  # Center-align figures
size = 'footnotesize'  # Use a smaller font size for code and output
)
library(data.table)
hdro_indicators_irl <- fread('hdro_indicators_irl.csv')
hdro_indicators_irl <- hdro_indicators_irl[-1]
hdro_indicators_irl[, year := as.integer(year)]
hdro_indicators_irl[, value := as.numeric(value)]
hdro_indicators_irl[, country_code := as.factor(country_code)]
hdro_indicators_irl[, country_name := as.factor(country_name)]
hdro_indicators_irl[, indicator_id := as.factor(indicator_id)]
hdro_indicators_irl[, indicator_name := as.factor(indicator_name)]
hdro_indicators_irl[, index_id := as.factor(index_id)]
hdro_indicators_irl[, index_name := as.factor(index_name)]
hdro_indicators_jpn <- fread('hdro_indicators_jpn.csv')
hdro_indicators_jpn <- hdro_indicators_jpn[-1]
hdro_indicators_jpn[, year := as.integer(year)]
hdro_indicators_jpn[, value := as.numeric(value)]
hdro_indicators_jpn[, country_code := as.factor(country_code)]
hdro_indicators_jpn[, country_name := as.factor(country_name)]
hdro_indicators_jpn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_jpn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_jpn[, index_id := as.factor(index_id)]
hdro_indicators_jpn[, index_name := as.factor(index_name)]
hdro_indicators_chn <- fread('hdro_indicators_chn.csv')
hdro_indicators_chn <- hdro_indicators_chn[-1]
hdro_indicators_chn[, year := as.integer(year)]
hdro_indicators_chn[, value := as.numeric(value)]
hdro_indicators_chn[, country_code := as.factor(country_code)]
hdro_indicators_chn[, country_name := as.factor(country_name)]
hdro_indicators_chn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_chn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_chn[, index_id := as.factor(index_id)]
hdro_indicators_chn[, index_name := as.factor(index_name)]
data <- list(hdro_indicators_irl, hdro_indicators_jpn, hdro_indicators_chn)
hdro_data <- rbindlist(list_of_tables)
library(data.table)
hdro_indicators_irl <- fread('hdro_indicators_irl.csv')
hdro_indicators_irl <- hdro_indicators_irl[-1]
hdro_indicators_irl[, year := as.integer(year)]
hdro_indicators_irl[, value := as.numeric(value)]
hdro_indicators_irl[, country_code := as.factor(country_code)]
hdro_indicators_irl[, country_name := as.factor(country_name)]
hdro_indicators_irl[, indicator_id := as.factor(indicator_id)]
hdro_indicators_irl[, indicator_name := as.factor(indicator_name)]
hdro_indicators_irl[, index_id := as.factor(index_id)]
hdro_indicators_irl[, index_name := as.factor(index_name)]
hdro_indicators_jpn <- fread('hdro_indicators_jpn.csv')
hdro_indicators_jpn <- hdro_indicators_jpn[-1]
hdro_indicators_jpn[, year := as.integer(year)]
hdro_indicators_jpn[, value := as.numeric(value)]
hdro_indicators_jpn[, country_code := as.factor(country_code)]
hdro_indicators_jpn[, country_name := as.factor(country_name)]
hdro_indicators_jpn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_jpn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_jpn[, index_id := as.factor(index_id)]
hdro_indicators_jpn[, index_name := as.factor(index_name)]
hdro_indicators_chn <- fread('hdro_indicators_chn.csv')
hdro_indicators_chn <- hdro_indicators_chn[-1]
hdro_indicators_chn[, year := as.integer(year)]
hdro_indicators_chn[, value := as.numeric(value)]
hdro_indicators_chn[, country_code := as.factor(country_code)]
hdro_indicators_chn[, country_name := as.factor(country_name)]
hdro_indicators_chn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_chn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_chn[, index_id := as.factor(index_id)]
hdro_indicators_chn[, index_name := as.factor(index_name)]
data <- list(hdro_indicators_irl, hdro_indicators_jpn, hdro_indicators_chn)
hdro_data <- rbindlist(data)
hdro_data
str(hdro_data)
summary(hdro_data)
hdro_data[, .N, by = .(country_name, indicator_name)]
str(hdro_data)
str(hdro_data)
summary(hdro_data)
hdro_data[, .N, by = .(country_name, indicator_name)]
str(hdro_data)
summary(hdro_data)
hdro_data[, .N, by = .(country_name, indicator_name)]
str(hdro_data)
summary(hdro_data)
hdro_data[, .N, by = .(country_name, indicator_name)]
df %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
str(hdro_data)
summary(hdro_data)
hdro_data[, .N, by = .(country_name, indicator_name)]
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
library(dplyr)
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
tinytex::install_tinytex()
tinytex::install_tinytex()
knitr::opts_chunk$set(
echo = TRUE,           # Show code by default
message = FALSE,       # Suppress messages
warning = FALSE,       # Suppress warnings
fig.width = 4,         # Default figure width
fig.height = 3,        # Default figure height
fig.align = 'center',  # Center-align figures
size = 'footnotesize'  # Use a smaller font size for code and output
)
library(data.table)
hdro_indicators_irl <- fread('hdro_indicators_irl.csv')
hdro_indicators_irl <- hdro_indicators_irl[-1]
hdro_indicators_irl[, year := as.integer(year)]
hdro_indicators_irl[, value := as.numeric(value)]
hdro_indicators_irl[, country_code := as.factor(country_code)]
hdro_indicators_irl[, country_name := as.factor(country_name)]
hdro_indicators_irl[, indicator_id := as.factor(indicator_id)]
hdro_indicators_irl[, indicator_name := as.factor(indicator_name)]
hdro_indicators_irl[, index_id := as.factor(index_id)]
hdro_indicators_irl[, index_name := as.factor(index_name)]
hdro_indicators_jpn <- fread('hdro_indicators_jpn.csv')
hdro_indicators_jpn <- hdro_indicators_jpn[-1]
hdro_indicators_jpn[, year := as.integer(year)]
hdro_indicators_jpn[, value := as.numeric(value)]
hdro_indicators_jpn[, country_code := as.factor(country_code)]
hdro_indicators_jpn[, country_name := as.factor(country_name)]
hdro_indicators_jpn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_jpn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_jpn[, index_id := as.factor(index_id)]
hdro_indicators_jpn[, index_name := as.factor(index_name)]
hdro_indicators_chn <- fread('hdro_indicators_chn.csv')
hdro_indicators_chn <- hdro_indicators_chn[-1]
hdro_indicators_chn[, year := as.integer(year)]
hdro_indicators_chn[, value := as.numeric(value)]
hdro_indicators_chn[, country_code := as.factor(country_code)]
hdro_indicators_chn[, country_name := as.factor(country_name)]
hdro_indicators_chn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_chn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_chn[, index_id := as.factor(index_id)]
hdro_indicators_chn[, index_name := as.factor(index_name)]
data <- list(hdro_indicators_irl, hdro_indicators_jpn, hdro_indicators_chn)
hdro_data <- rbindlist(data)
hdro_data
library(data.table)
hdro_indicators_irl <- fread('hdro_indicators_irl.csv')
hdro_indicators_irl <- hdro_indicators_irl[-1]
hdro_indicators_irl[, year := as.integer(year)]
hdro_indicators_irl[, value := as.numeric(value)]
hdro_indicators_irl[, country_code := as.factor(country_code)]
hdro_indicators_irl[, country_name := as.factor(country_name)]
hdro_indicators_irl[, indicator_id := as.factor(indicator_id)]
hdro_indicators_irl[, indicator_name := as.factor(indicator_name)]
hdro_indicators_irl[, index_id := as.factor(index_id)]
hdro_indicators_irl[, index_name := as.factor(index_name)]
hdro_indicators_jpn <- fread('hdro_indicators_jpn.csv')
hdro_indicators_jpn <- hdro_indicators_jpn[-1]
hdro_indicators_jpn[, year := as.integer(year)]
hdro_indicators_jpn[, value := as.numeric(value)]
hdro_indicators_jpn[, country_code := as.factor(country_code)]
hdro_indicators_jpn[, country_name := as.factor(country_name)]
hdro_indicators_jpn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_jpn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_jpn[, index_id := as.factor(index_id)]
hdro_indicators_jpn[, index_name := as.factor(index_name)]
hdro_indicators_chn <- fread('hdro_indicators_chn.csv')
hdro_indicators_chn <- hdro_indicators_chn[-1]
hdro_indicators_chn[, year := as.integer(year)]
hdro_indicators_chn[, value := as.numeric(value)]
hdro_indicators_chn[, country_code := as.factor(country_code)]
hdro_indicators_chn[, country_name := as.factor(country_name)]
hdro_indicators_chn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_chn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_chn[, index_id := as.factor(index_id)]
hdro_indicators_chn[, index_name := as.factor(index_name)]
data <- list(hdro_indicators_irl, hdro_indicators_jpn, hdro_indicators_chn)
hdro_data <- rbindlist(data)
hdro_data
library(dplyr)
str(hdro_data)
summary(hdro_data)
hdro_data[, .N, by = .(country_name, indicator_name)]
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
library(dplyr)
str(hdro_data)
summary(hdro_data)
hdro_data[, .N, by = .(country_name, indicator_name)]
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
hdro_data[, .N, by = .(country_name, indicator_name)]
hdro_data[order(-N)]
result <- hdro_data[, .N, by = .(country_name, indicator_name)]
result[order(-N)]
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
setDT(hdro_data)
average_values <- hdro_data[, .(average_value = mean(value, na.rm = TRUE)),
keyby = .(country_name, indicator_name, year)]
average_values
setDT(hdro_data)
average_HDI_by_country <- hdro_data[indicator_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
by = .(country_name, year)]
setDT(hdro_data)
average_HDI_by_country <- hdro_data[indicator_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
by = .(country_name, year)]
average_HDI_by_country
library(data.table)
hdro_indicators_irl <- fread('hdro_indicators_irl.csv')
hdro_indicators_irl <- hdro_indicators_irl[-1]
hdro_indicators_irl[, year := as.integer(year)]
hdro_indicators_irl[, value := as.numeric(value)]
hdro_indicators_irl[, country_code := as.factor(country_code)]
hdro_indicators_irl[, country_name := as.factor(country_name)]
hdro_indicators_irl[, indicator_id := as.factor(indicator_id)]
hdro_indicators_irl[, indicator_name := as.factor(indicator_name)]
hdro_indicators_irl[, index_id := as.factor(index_id)]
hdro_indicators_irl[, index_name := as.factor(index_name)]
hdro_indicators_jpn <- fread('hdro_indicators_jpn.csv')
hdro_indicators_jpn <- hdro_indicators_jpn[-1]
hdro_indicators_jpn[, year := as.integer(year)]
hdro_indicators_jpn[, value := as.numeric(value)]
hdro_indicators_jpn[, country_code := as.factor(country_code)]
hdro_indicators_jpn[, country_name := as.factor(country_name)]
hdro_indicators_jpn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_jpn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_jpn[, index_id := as.factor(index_id)]
hdro_indicators_jpn[, index_name := as.factor(index_name)]
hdro_indicators_chn <- fread('hdro_indicators_chn.csv')
hdro_indicators_chn <- hdro_indicators_chn[-1]
hdro_indicators_chn[, year := as.integer(year)]
hdro_indicators_chn[, value := as.numeric(value)]
hdro_indicators_chn[, country_code := as.factor(country_code)]
hdro_indicators_chn[, country_name := as.factor(country_name)]
hdro_indicators_chn[, indicator_id := as.factor(indicator_id)]
hdro_indicators_chn[, indicator_name := as.factor(indicator_name)]
hdro_indicators_chn[, index_id := as.factor(index_id)]
hdro_indicators_chn[, index_name := as.factor(index_name)]
data <- list(hdro_indicators_irl, hdro_indicators_jpn, hdro_indicators_chn)
hdro_data <- rbindlist(data)
hdro_data
library(dplyr)
str(hdro_data)
summary(hdro_data)
result <- hdro_data[, .N, by = .(country_name, indicator_name)]
result[order(-N)]
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
hdro_data
result <- hdro_data[, .N, by = .(country_name, indicator_name)]
result[order(-N)]
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
setDT(hdro_data)
average_HDI_by_country <- hdro_data[indicator_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
by = .(country_name, year)]
average_HDI_by_country
setDT(hdro_data)
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
by = .(country_name, year)]
average_HDI_by_country
latest_HDI_by_country <- average_HDI_by_country[, .SD[.N], by = country_name][order(-average_HDI)]
latest_HDI_by_country[1:5]
latest_HDI_by_country[.N:(.N-4)]
setDT(hdro_data)
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
by = .(country_name, year)]
latest_HDI_by_country <- average_HDI_by_country[, .SD[.N], by = country_name][order(-average_HDI)]
print(latest_HDI_by_country[1:5])
setDT(hdro_data)
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
by = .(country_name, year)]
latest_HDI_by_country <- average_HDI_by_country[, .SD[.N], by = country_name][order(-average_HDI)]
setDT(hdro_data)
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
by = .(country_name, year)]
latest_HDI_by_country <- average_HDI_by_country[, .SD[.N], by = country_name][order(-average_HDI)]
latest_HDI_by_country
average_HDI_by_country
average_indices_by_year <- hdro_data[, .(average_GII = mean(value[indicator_name == "Gender Inequality Index"], na.rm = TRUE),
average_HDI = mean(value[indicator_name == "Human Development Index"], na.rm = TRUE)),
by = year]
correlation_between_GII_HDI <- cor(average_indices_by_year$average_GII, average_indices_by_year$average_HDI, use = "complete.obs")
average_indices_by_year <- hdro_data[, .(average_GII = mean(value[indicator_name == "Gender Inequality Index"], na.rm = TRUE),
average_HDI = mean(value[indicator_name == "Human Development Index"], na.rm = TRUE)),
by = year]
correlation_between_GII_HDI <- cor(average_indices_by_year$average_GII, average_indices_by_year$average_HDI, use = "complete.obs")
average_indices_by_year_country <- hdro_data[indicator_name %in% c("Gender Inequality Index", "Human Development Index"),
.(average_value = mean(value, na.rm = TRUE)),
by = .(country_name, indicator_name, year)]
# 转置数据表格，使每行包含一个国家的一年数据中的 GII 和 HDI 值
dcast_data <- dcast(average_indices_by_year_country, country_name + year ~ indicator_name, value.var = "average_value")
# 清除NA值，确保只分析同时具有 GII 和 HDI 数据的年份和国家
dcast_data <- na.omit(dcast_data)
# 计算 Gender Inequality Index 和 Human Development Index 的相关性
correlation_between_GII_HDI <- cor(dcast_data[["Gender Inequality Index"]], dcast_data[["Human Development Index"]], use = "complete.obs")
setDT(hdro_data)
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
keyby = .(country_name, year)]
latest_year_idx <- average_HDI_by_country[, .I[year == max(year)], by = country_name]$V1
latest_HDI_by_country <- average_HDI_by_country[latest_year_idx][order(-average_HDI)]
latest_HDI_by_country
average_HDI_by_country
records_count_by_country_year_indicator <- hdro_data[, .N, keyby = .(country_name, year, indicator_name)]
# 打印结果查看
print(records_count_by_country_year_indicator)
records_count_by_country_year_indicator <- hdro_data[, .N, keyby = .(country_name, year, indicator_id)]
# 打印结果查看
print(records_count_by_country_year_indicator)
result <- hdro_data[, .N, by = .(country_name, indicator_name)]
result[order(-N)]
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
gender_inequality_index[, prev_value := shift(mean_value), by = country_name]
setDT(hdro_data)
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
keyby = .(country_name, year)]
latest_year_idx <- average_HDI_by_country[, .I[year == max(year)], by = country_name]$V1
latest_HDI_by_country <- average_HDI_by_country[latest_year_idx][order(-average_HDI)]
latest_HDI_by_country
average_HDI_by_country
gender_inequality_index <- hdro_data[indicator_name == "Gender Inequality Index",
.(mean_value = mean(value, na.rm = TRUE)),
keyby = .(country_name, year)]
gender_inequality_index[, prev_value := shift(mean_value), by = country_name]
gender_inequality_index[, change := mean_value - prev_value]
print(gender_inequality_index)
gender_inequality_index
gender_inequality_index <- hdro_data[index_name == "Gender Inequality Index",
.(mean_value = mean(value, na.rm = TRUE)),
keyby = .(country_name, year)]
gender_inequality_index[, prev_value := shift(mean_value), by = country_name]
gender_inequality_index[, change := mean_value - prev_value]
print(gender_inequality_index)
tinytex::tlmgr_update()
library(ggplot2)
# 绘制条形图
ggplot(latest_HDI_by_country, aes(x = reorder(country_name, -average_HDI), y = average_HDI, fill = country_name)) +
geom_bar(stat = "identity") +
labs(title = "Human Development Index (HDI) in the Latest Recorded Year by Country",
x = "Country",
y = "Average HDI") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# 筛选特定几个国家的数据
selected_countries <- gender_inequality_index[country_name %in% c("USA", "China", "Germany")]
# 绘制线图
ggplot(selected_countries, aes(x = year, y = mean_value, color = country_name, group = country_name)) +
geom_line() +
geom_point() +
labs(title = "Annual Change in Gender Inequality Index (GII)",
x = "Year",
y = "Mean GII Value") +
theme_minimal()
library(ggplot2)
# 绘制线图，展示三个国家的 GII 变化
ggplot(gender_inequality_index, aes(x = year, y = mean_value, color = country_name, group = country_name)) +
geom_line() +
geom_point() +
labs(title = "Annual Change in Gender Inequality Index (GII) for JPN, CHN, and IRL",
x = "Year",
y = "Mean GII Value") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.title = element_blank())  # 移除图例标题
summary(hdro_data)
library(dplyr)
str(hdro_data) # structure
# Calculate the number of data rows for each combination of country and indicator using data.table syntax
result <- hdro_data[, .N, by = .(country_name, indicator_name)]
result[order(-N)]
# Use dplyr syntax to group data by country name and calculate the mean value and count of records for each group
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
setDT(hdro_data)
# Calculate the average Human Development Index (HDI) for each country and year
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
keyby = .(country_name, year)]
# Identify the latest year of data for each country
latest_year_idx <- average_HDI_by_country[, .I[year == max(year)], by = country_name]$V1
latest_HDI_by_country <- average_HDI_by_country[latest_year_idx][order(-average_HDI)]
latest_HDI_by_country
average_HDI_by_country
setDT(hdro_data)
# Calculate the average Human Development Index (HDI) for each country and year
average_HDI_by_country <- hdro_data[index_name == "Human Development Index",
.(average_HDI = mean(value, na.rm = TRUE)),
keyby = .(country_name, year)]
# Identify the latest year of data for each country
latest_year_idx <- average_HDI_by_country[, .I[year == max(year)], by = country_name]$V1
latest_HDI_by_country <- average_HDI_by_country[latest_year_idx][order(-average_HDI)]
average_HDI_by_country
latest_HDI_by_country
gender_inequality_index <- hdro_data[index_name == "Gender Inequality Index",
.(mean_value = mean(value, na.rm = TRUE)),
keyby = .(country_name, year)]
gender_inequality_index[, prev_value := shift(mean_value), by = country_name]
gender_inequality_index[, change := mean_value - prev_value]
print(gender_inequality_index)
library(ggplot2)
# barplot
ggplot(latest_HDI_by_country, aes(x = reorder(country_name, -average_HDI), y = average_HDI, fill = country_name)) +
geom_bar(stat = "identity") +
labs(title = "Human Development Index (HDI) in the Latest Recorded Year by Country",
x = "Country",
y = "Average HDI") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# Calculate the number of data rows for each combination
# of country and indicator using data.table syntax
result <- hdro_data[, .N, by = .(country_name,
indicator_name)]
result[order(-N)]
# Use dplyr syntax to group data by country name and
# calculate the mean value and count of records for each group
hdro_data %>%
group_by(country_name) %>%
summarise(mean_value = mean(value), n = n())
library(dplyr)
str(hdro_data) # structure
